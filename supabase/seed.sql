-- =============================================================================
-- Seed Data for EstiMat
-- Construction Materials Procurement System
-- =============================================================================
-- Run after migrations: supabase db reset (applies migrations + seed)
-- =============================================================================

-- ===========================================================================
-- Organizations
-- ===========================================================================
INSERT INTO organizations (id, name, inn, type, contacts, address) VALUES
  ('a0000000-0000-0000-0000-000000000001', 'ООО "Заказчик-Инвест"', '7701234567', 'client',
   '{"phone": "+7 (495) 123-45-67", "email": "info@zakazchik-invest.ru", "contact_person": "Петров Иван Сергеевич"}'::jsonb,
   'г. Москва, ул. Тверская, д. 12'),

  ('a0000000-0000-0000-0000-000000000002', 'ООО "СтройГенПодряд"', '7702345678', 'general_contractor',
   '{"phone": "+7 (495) 234-56-78", "email": "info@stroygenподряd.ru", "contact_person": "Сидоров Алексей Павлович"}'::jsonb,
   'г. Москва, ул. Строителей, д. 5'),

  ('a0000000-0000-0000-0000-000000000003', 'ООО "СубСтрой"', '7703456789', 'subcontractor',
   '{"phone": "+7 (495) 345-67-89", "email": "info@substroy.ru", "contact_person": "Козлов Дмитрий Николаевич"}'::jsonb,
   'г. Москва, ул. Промышленная, д. 8'),

  ('a0000000-0000-0000-0000-000000000004', 'ООО "МатериалСнаб"', '7704567890', 'supplier',
   '{"phone": "+7 (495) 456-78-90", "email": "sales@materialsnab.ru", "contact_person": "Волкова Елена Андреевна"}'::jsonb,
   'г. Москва, Варшавское шоссе, д. 125');

-- ===========================================================================
-- Material Groups (10 groups for Russian construction)
-- ===========================================================================
INSERT INTO material_groups (id, name, code) VALUES
  ('b0000000-0000-0000-0000-000000000001', 'Бетон и растворы',       'BET'),
  ('b0000000-0000-0000-0000-000000000002', 'Арматура',               'ARM'),
  ('b0000000-0000-0000-0000-000000000003', 'Кирпич и блоки',         'KIR'),
  ('b0000000-0000-0000-0000-000000000004', 'Утеплитель',             'UTL'),
  ('b0000000-0000-0000-0000-000000000005', 'Кровельные материалы',   'KRV'),
  ('b0000000-0000-0000-0000-000000000006', 'Трубы и фитинги',        'TRB'),
  ('b0000000-0000-0000-0000-000000000007', 'Электрика',              'ELK'),
  ('b0000000-0000-0000-0000-000000000008', 'Сантехника',             'SNT'),
  ('b0000000-0000-0000-0000-000000000009', 'Отделочные материалы',   'OTD'),
  ('b0000000-0000-0000-0000-000000000010', 'Метизы',                 'MTZ');

-- ===========================================================================
-- Material Catalog (25 items across 10 groups)
-- ===========================================================================

-- Бетон и растворы (3 items)
INSERT INTO material_catalog (id, name, group_id, unit, description, attributes) VALUES
  ('c0000000-0000-0000-0000-000000000001', 'Бетон В25 (М350)', 'b0000000-0000-0000-0000-000000000001', 'м3',
   'Тяжёлый бетон класс В25 (марка М350), морозостойкость F200, водонепроницаемость W8',
   '{"class": "B25", "brand": "M350", "frost_resistance": "F200", "waterproof": "W8"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000002', 'Бетон В15 (М200)', 'b0000000-0000-0000-0000-000000000001', 'м3',
   'Тяжёлый бетон класс В15 (марка М200), для фундаментов и стяжек',
   '{"class": "B15", "brand": "M200"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000003', 'Раствор кладочный М150', 'b0000000-0000-0000-0000-000000000001', 'м3',
   'Цементно-песчаный раствор марки М150 для кирпичной кладки',
   '{"brand": "M150", "type": "masonry"}'::jsonb),

-- Арматура (3 items)
  ('c0000000-0000-0000-0000-000000000004', 'Арматура А500С d12', 'b0000000-0000-0000-0000-000000000002', 'т',
   'Арматурная сталь класса А500С, диаметр 12 мм, ГОСТ 34028-2016',
   '{"class": "A500C", "diameter_mm": 12, "gost": "34028-2016"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000005', 'Арматура А500С d16', 'b0000000-0000-0000-0000-000000000002', 'т',
   'Арматурная сталь класса А500С, диаметр 16 мм, ГОСТ 34028-2016',
   '{"class": "A500C", "diameter_mm": 16, "gost": "34028-2016"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000006', 'Сетка сварная 100x100x5', 'b0000000-0000-0000-0000-000000000002', 'м2',
   'Сетка сварная из проволоки ВР-1, ячейка 100x100, диаметр 5 мм',
   '{"cell_mm": "100x100", "wire_diameter_mm": 5}'::jsonb),

-- Кирпич и блоки (3 items)
  ('c0000000-0000-0000-0000-000000000007', 'Кирпич керамический полнотелый М150', 'b0000000-0000-0000-0000-000000000003', 'шт',
   'Кирпич керамический рядовой полнотелый, марка М150, 250x120x65',
   '{"brand": "M150", "size_mm": "250x120x65", "type": "solid"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000008', 'Блок газобетонный D500 600x300x200', 'b0000000-0000-0000-0000-000000000003', 'м3',
   'Газобетонный стеновой блок плотностью D500, размер 600x300x200 мм',
   '{"density": "D500", "size_mm": "600x300x200"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000009', 'Блок керамзитобетонный 390x190x188', 'b0000000-0000-0000-0000-000000000003', 'шт',
   'Керамзитобетонный стеновой блок, размер 390x190x188 мм',
   '{"size_mm": "390x190x188"}'::jsonb),

-- Утеплитель (2 items)
  ('c0000000-0000-0000-0000-000000000010', 'Пенополистирол ПСБ-С 25 толщ. 100 мм', 'b0000000-0000-0000-0000-000000000004', 'м3',
   'Пенополистирол самозатухающий плотностью 25 кг/м3, толщина 100 мм',
   '{"density_kg_m3": 25, "thickness_mm": 100}'::jsonb),

  ('c0000000-0000-0000-0000-000000000011', 'Минвата Rockwool Фасад Баттс 100 мм', 'b0000000-0000-0000-0000-000000000004', 'м2',
   'Минераловатная плита для утепления фасадов, толщина 100 мм, плотность 130 кг/м3',
   '{"brand": "Rockwool", "thickness_mm": 100, "density_kg_m3": 130}'::jsonb),

-- Кровельные материалы (2 items)
  ('c0000000-0000-0000-0000-000000000012', 'Мембрана ПВХ Технониколь 1.5 мм', 'b0000000-0000-0000-0000-000000000005', 'м2',
   'ПВХ мембрана для плоской кровли, толщина 1.5 мм, рулон 2.05x20 м',
   '{"brand": "TechnoNIKOL", "thickness_mm": 1.5}'::jsonb),

  ('c0000000-0000-0000-0000-000000000013', 'Профнастил С21 RAL 3005 0.5 мм', 'b0000000-0000-0000-0000-000000000005', 'м2',
   'Профнастил С21 с полимерным покрытием, цвет винно-красный (RAL 3005), толщина 0.5 мм',
   '{"profile": "C21", "ral": 3005, "thickness_mm": 0.5}'::jsonb),

-- Трубы и фитинги (3 items)
  ('c0000000-0000-0000-0000-000000000014', 'Труба ПНД ПЭ100 SDR17 d110', 'b0000000-0000-0000-0000-000000000006', 'м.п.',
   'Труба полиэтиленовая ПЭ100 SDR17, диаметр 110 мм, для водоснабжения',
   '{"material": "PE100", "sdr": 17, "diameter_mm": 110}'::jsonb),

  ('c0000000-0000-0000-0000-000000000015', 'Труба стальная ВГП d50', 'b0000000-0000-0000-0000-000000000006', 'м.п.',
   'Труба стальная водогазопроводная, диаметр 50 мм, ГОСТ 3262-75',
   '{"diameter_mm": 50, "gost": "3262-75"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000016', 'Труба ППР PN20 d32', 'b0000000-0000-0000-0000-000000000006', 'м.п.',
   'Труба полипропиленовая PN20, диаметр 32 мм, для горячего водоснабжения',
   '{"material": "PPR", "pn": 20, "diameter_mm": 32}'::jsonb),

-- Электрика (3 items)
  ('c0000000-0000-0000-0000-000000000017', 'Кабель ВВГнг(А)-LS 3x2.5', 'b0000000-0000-0000-0000-000000000007', 'м.п.',
   'Кабель силовой медный 3-жильный, сечение 2.5 мм2, негорючий, с пониженным дымо- и газовыделением',
   '{"cores": 3, "section_mm2": 2.5, "type": "VVGng(A)-LS"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000018', 'Кабель ВВГнг(А)-LS 5x10', 'b0000000-0000-0000-0000-000000000007', 'м.п.',
   'Кабель силовой медный 5-жильный, сечение 10 мм2, негорючий',
   '{"cores": 5, "section_mm2": 10, "type": "VVGng(A)-LS"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000019', 'Автомат ABB S203 C25 3P', 'b0000000-0000-0000-0000-000000000007', 'шт',
   'Автоматический выключатель ABB серии S200, 3-полюсный, номинал 25А, характеристика С',
   '{"brand": "ABB", "series": "S203", "poles": 3, "current_a": 25}'::jsonb),

-- Сантехника (2 items)
  ('c0000000-0000-0000-0000-000000000020', 'Радиатор Rifar Monolit 500/8', 'b0000000-0000-0000-0000-000000000008', 'шт',
   'Биметаллический радиатор отопления Rifar Monolit, 500 мм, 8 секций',
   '{"brand": "Rifar", "model": "Monolit", "height_mm": 500, "sections": 8}'::jsonb),

  ('c0000000-0000-0000-0000-000000000021', 'Унитаз-компакт Santek Бриз', 'b0000000-0000-0000-0000-000000000008', 'шт',
   'Унитаз-компакт с горизонтальным выпуском, бачок с нижней подводкой',
   '{"brand": "Santek", "model": "Briz"}'::jsonb),

-- Отделочные материалы (3 items)
  ('c0000000-0000-0000-0000-000000000022', 'Гипсокартон Knauf ГКЛ 12.5 мм', 'b0000000-0000-0000-0000-000000000009', 'м2',
   'Гипсокартонный лист обычный, толщина 12.5 мм, размер 2500x1200 мм',
   '{"brand": "Knauf", "type": "GKL", "thickness_mm": 12.5, "size_mm": "2500x1200"}'::jsonb),

  ('c0000000-0000-0000-0000-000000000023', 'Штукатурка Knauf Ротбанд 30 кг', 'b0000000-0000-0000-0000-000000000009', 'шт',
   'Гипсовая штукатурная смесь для ручного нанесения, мешок 30 кг',
   '{"brand": "Knauf", "model": "Rotband", "weight_kg": 30}'::jsonb),

  ('c0000000-0000-0000-0000-000000000024', 'Плитка керамогранит 600x600 серый', 'b0000000-0000-0000-0000-000000000009', 'м2',
   'Керамогранитная плитка 600x600 мм, матовая, серый цвет, для пола',
   '{"size_mm": "600x600", "finish": "matte", "color": "grey"}'::jsonb),

-- Метизы (1 item)
  ('c0000000-0000-0000-0000-000000000025', 'Анкер-болт М12x120', 'b0000000-0000-0000-0000-000000000010', 'шт',
   'Анкерный болт с гайкой М12, длина 120 мм, оцинкованный',
   '{"thread": "M12", "length_mm": 120, "coating": "zinc"}'::jsonb);

-- ===========================================================================
-- Projects
-- ===========================================================================
INSERT INTO projects (id, name, org_id, address, status, start_date, end_date) VALUES
  ('d0000000-0000-0000-0000-000000000001',
   'ЖК Солнечный',
   'a0000000-0000-0000-0000-000000000002',
   'г. Москва, ул. Академика Янгеля, вл. 14',
   'active',
   '2024-03-01',
   '2026-06-30'),

  ('d0000000-0000-0000-0000-000000000002',
   'БЦ Меридиан',
   'a0000000-0000-0000-0000-000000000002',
   'г. Москва, Ленинградский проспект, вл. 80',
   'planning',
   '2024-09-01',
   '2027-03-31');

-- ===========================================================================
-- NOTE: Users
-- ===========================================================================
-- Users cannot be seeded directly because the `users` table references
-- `auth.users(id)` via foreign key. You must first create users through
-- Supabase Auth (Dashboard, API, or supabase.auth.signUp()), then insert
-- corresponding rows into the `users` table.
--
-- Example (run AFTER creating auth users):
--
--   INSERT INTO users (id, email, full_name, org_id, role, phone) VALUES
--     ('<auth-user-uuid>', 'admin@estimat.ru', 'Администратор Системы',
--      'a0000000-0000-0000-0000-000000000002', 'admin', '+7 (495) 100-00-01'),
--     ('<auth-user-uuid>', 'engineer@estimat.ru', 'Иванов Пётр Васильевич',
--      'a0000000-0000-0000-0000-000000000002', 'rd_engineer', '+7 (495) 100-00-02'),
--     ('<auth-user-uuid>', 'estimator@estimat.ru', 'Смирнова Анна Олеговна',
--      'a0000000-0000-0000-0000-000000000002', 'estimator', '+7 (495) 100-00-03'),
--     ('<auth-user-uuid>', 'procurement@estimat.ru', 'Кузнецов Максим Игоревич',
--      'a0000000-0000-0000-0000-000000000002', 'procurement_manager', '+7 (495) 100-00-04'),
--     ('<auth-user-uuid>', 'contractor@substroy.ru', 'Козлов Дмитрий Николаевич',
--      'a0000000-0000-0000-0000-000000000003', 'contractor', '+7 (495) 100-00-05'),
--     ('<auth-user-uuid>', 'supplier@materialsnab.ru', 'Волкова Елена Андреевна',
--      'a0000000-0000-0000-0000-000000000004', 'supplier', '+7 (495) 100-00-06'),
--     ('<auth-user-uuid>', 'finance@estimat.ru', 'Новикова Ольга Петровна',
--      'a0000000-0000-0000-0000-000000000002', 'finance', '+7 (495) 100-00-07'),
--     ('<auth-user-uuid>', 'pm@estimat.ru', 'Морозов Артём Владимирович',
--      'a0000000-0000-0000-0000-000000000002', 'project_manager', '+7 (495) 100-00-08');
-- ===========================================================================
